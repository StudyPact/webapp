<div ng-controller="SignupController" class="modal fade in" id="signupModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">x</button>
                <h3>Signup for StudyPact</h3>
            </div>
            <div class="modal-body">


                <form name="signupForm" novalidate ng-submit="
                     signupForm.firstName.$valid && 
                     signupForm.lastName.$valid && 
                     signupForm.email.$valid && 
                     signupForm.signupPassword.$valid && 
                     signupForm.signupConfirmPassword.$valid && 
                     acceptedTerms &&
                     signup()">
                     
                    <!-- Name -->
                    <div class="row">
                        <div class="col-xs-12 col-sm-6">
                            <div class="form-group" ng-class="{ 'has-error' : submitted && signupForm.firstName.$invalid}">
                                <input type="text" name="firstName" id="firstName" class="form-control" placeholder="First Name" tabindex="1" ng-required=true ng-model="user.displayname.firstname">
                                <p ng-show="submitted && signupForm.firstName.$invalid" class="help-block">Please enter a First Name!</p>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6">
                            <div class="form-group" ng-class="{ 'has-error' : submitted && signupForm.lastName.$invalid}">
                                <input type="text" name="lastName" id="lastName" class="form-control" placeholder="Last Name" tabindex="2" ng-required=true ng-model="user.displayname.lastname">
                                <p ng-show="submitted && signupForm.lastName.$invalid" class="help-block">Please enter a Last Name!</p>
                            </div>
                        </div>
                    </div>

                    <!-- EMAIL -->
                    <div class="form-group" ng-class="{ 'has-error' : (submitted &&signupForm.email.$invalid) || error.mailInUseError}">
                        <input type="email" name="email" id="email" class="form-control" ng-model="user.email" ng-required=true placeholder="Email Address" tabindex="3">
                        <p ng-show="submitted && signupForm.email.$invalid" class="help-block">Email is incorrect!</p>
                        <p ng-show="error.mailInUseError" class="help-block">Email is already registered!</p>
                    </div>

                    <!-- PASSWORD -->
                    <div class="row">
                        <div class="col-xs-12 col-sm-6">
                            <div class="form-group" ng-class="{ 'has-error' : submitted && signupForm.signupPassword.$invalid}">
                                <input type="password" id="signupPassword" name="signupPassword" ng-model="user.password" placeholder="Password" ng-minlength=8 ng-required=true tabindex=4 class="form-control">
                                <p class="help-block" ng-show="submitted && signupForm.signupPassword.$invalid">Password is too short!</p>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6">
                            <div class="form-group" ng-class="{ 'has-error' : (submitted || signupForm.signupConfirmPassword.$dirty) && signupForm.signupConfirmPassword.$invalid}">
                                <input type="password" name="signupConfirmPassword" id="signupConfirmPassword" class="form-control" placeholder="Confirm Password" tabindex="5" ng-model="signupConfirmPassword" pw-check="signupPassword">
                                <p ng-show="(submitted || signupForm.signupConfirmPassword.$dirty) && signupForm.signupConfirmPassword.$invalid" class="help-block">Passwords do not match.</p>
                            </div>
                        </div>
                    </div>

                    <!-- AGGREE -->
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="form-group" ng-class="{ 'has-error' : submitted && !acceptedTerms}">
                                <label class="control-label">
                                    <input type="checkbox" ng-model="acceptedTerms" name="terms" id="terms"> I have read and aggree to the <a target="_blank"href = "http://www.studypact.com/terms-condition/">Terms of Service</a>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- SERVER ERROR -->
                    <p ng-show="error.serverError" class="bg-danger">Unknown Server Error - please try again later!</p>
                    
                    <!-- SUBMIT -->
                    <div class="row">
                        <div class="col-xs-12">
                            <input type="submit" value="Register" class="btn btn-primary btn-block btn-lg" tabindex="6" ng-click="submitted=true">
                        </div>
                    </div>

                </form>
            </div>
            <div class="modal-footer">
                Already have an account?
                <button type="button" data-dismiss="modal" class="btn btn-sm" data-toggle="modal" data-target="#loginModal">Login</button>
            </div>
        </div>
    </div>
</div>